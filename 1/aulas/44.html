<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="../../frontend/assets/css/style.css">
  <title>Document</title>

</head>

<body>

  <div>
    <iframe src="../../frontend/assets/pages/menu.html" frameborder="0" class="flame"></iframe>
  </div>
  <section class="container">

    <h1>useReducer</h1>
    <a href="https://react-dev.translate.goog/reference/react/useReducer?_x_tr_sl=en&_x_tr_tl=pt&_x_tr_hl=pt-BR&_x_tr_pto=sc&_x_tr_hist=true"
      style="text-decoration: none;">Fonte: useReducer - React</a>
    <p>
      <strong>useReducer</strong> √© um React Hook que permite adicionar um redutor ao seu componente.
    </p>
    <div class="exemplos">
      const [state, dispatch] = useReducer(reducer, initialArg, init?)
    </div>
    <h2>Refer√™ncia</h2>
    <h4>useReducer(reducer, initialArg, init?) </h4>
    <p>
      Chame useReducero n√≠vel superior do seu componente para gerenciar seu estado com um redutor.
      <div class="anotacoes">
        import { useReducer } from 'react'; <br>
        <br>
        function reducer(state, action) {<br>
        // ...<br>
        }<br>
        <br>
        function MyComponent() {<br>
        const [state, dispatch] = useReducer(reducer, { age: 42 });<br>
        // ...
      </div>
    </p>
    <hr>
    <h3>Exemplo feito sem o useContext</h3>
    <p>
      useReducer¬†√© um React Hook que permite adicionar um redutor ao seu componente.

      Ele √© muito similar ao useState s√≥ que foi projetado para trabalhar com estados complexos que requerem alguma
      logica, em nosso exemplo usamos a condicional switch.
      Reducer √© uma fun√ß√£o que vai manipular seu estado, lembrando sempre; que usar uma fun√ß√£o reducer ser√° preciso
      retornar um estado. A fun√ß√£o reducer recebe duas propriedades sendo: o estado atual e o action.
      A fun√ß√£o recebe o estado atual e retorna o novo estado. <br>
      <span class="lembrete">
        observa√ß√£o o context geralmente se mais organizado com reduce
      </span> <br>
    </p>
    <p>
      <strong>Dispatch</strong> serve para dispachar coisas(disparar a√ß√µes, que ser√° feito em nosso exemplo) √© comum usar objetos e
      definir o tipo da a√ß√£o.
      <div class="exemplos">

      </div>
    </p>
    <img src="../../frontend/assets/img/useReducer/useReducer.png" alt="" class="zoomImg">

    <p>

    </p>
    <hr>
    <h4>Par√¢metros</h4>
    <ul>
      <li>
        <strong>reducer:</strong> a fun√ß√£o redutora que especifica como o estado √© atualizado. Deve ser puro, deve tomar
        o estado e a a√ß√£o como argumentos e deve retornar o pr√≥ximo estado. Estado e a√ß√£o podem ser de qualquer tipo.
      </li>
      <li>
        <strong>initialArg:</strong> O valor a partir do qual o estado inicial √© calculado. Pode ser um valor de
        qualquer tipo. Como o estado inicial √© calculado depende do pr√≥ximo initargumento.
      </li>
      <li>
        <strong>opcional init:</strong> init : a fun√ß√£o inicializadora que deve retornar o estado inicial. Se n√£o for
        especificado, o estado inicial ser√° definido como initialArg. Caso contr√°rio, o estado inicial ser√° definido
        como o resultado da chamada init(initialArg).
      </li>
    </ul>
    <h4>Devolu√ß√µes</h4>
    <p>
      <strong>useReducer:</strong> retorna um array com exatamente dois valores:
    </p>
    <ol>
      <li>
        O estado atual. Durante a primeira renderiza√ß√£o, √© definido como init(initialArg)ou initialArg(se n√£o houver
        init).
      </li>
      <li>
        A dispatchfun√ß√£o que permite atualizar o estado para um valor diferente e acionar uma nova renderiza√ß√£o.
      </li>
    </ol>

    <h4>Ressalvas</h4>
    <ul>
      <li>
        <strong>useReducer</strong> √© um Hook, ent√£o voc√™ s√≥ pode cham√°-lo no n√≠vel superior do seu componente ou nos
        seus pr√≥prios Hooks. Voc√™ n√£o pode cham√°-lo dentro de loops ou condi√ß√µes. Se precisar disso, extraia um novo
        componente e mova o estado para ele.
      </li>
      <hr>
      <li>
        No modo estrito, o React chamar√° seu redutor e inicializador duas vezes para ajud√°-lo a encontrar impurezas
        acidentais. Este √© um comportamento apenas de desenvolvimento e n√£o afeta a produ√ß√£o. Se o seu redutor e
        inicializador forem puros (como deveriam ser), isso n√£o dever√° afetar sua l√≥gica. O resultado de uma das
        chamadas √© ignorado.
      </li>
    </ul>
    <hr>
    <h3>dispatch fun√ß√£o</h3>
    <p>
      A dispatchfun√ß√£o retornada por useReducerpermite atualizar o estado para um valor diferente e acionar uma nova
      renderiza√ß√£o. Voc√™ precisa passar a a√ß√£o como √∫nico argumento para a dispatchfun√ß√£o:
    </p>
    <div class="exemplos">
      const [state, dispatch] = useReducer(reducer, { age: 42 }); <br>
      <br>
      function handleClick() {<br>
      dispatch({ type: 'incremented_age' });<br>
      // ...
    </div>

    <p>
      O React definir√° o pr√≥ximo estado como o resultado da chamada da reducerfun√ß√£o que voc√™ forneceu com o atual
      statee a a√ß√£o para a qual voc√™ passou dispatch.
    </p>
    <div style="border: solid 3px  rgb(255, 12, 12); padding-left: 25px;">
      <h4>Par√¢metros</h4>
      <ul>
        <li>
          <strong>dispatch</strong>
          fun√ß√µes n√£o t√™m um valor de retorno.
        </li>
      </ul>
    </div>
    <h4>Ressalvas</h4>
    <ul>
      <li>
        A dispatch fun√ß√£o apenas atualiza a vari√°vel de estado para a pr√≥xima renderiza√ß√£o . Se voc√™ ler a vari√°vel de
        estado depois de chamar a dispatchfun√ß√£o, ainda obter√° o valor antigo que estava na tela antes da sua chamada.
      </li>
      <hr>
      <li>
        Se o novo valor fornecido for id√™ntico ao current state, conforme determinado por uma Object.is compara√ß√£o, o
        React ir√° pular a nova renderiza√ß√£o do componente e seus filhos. Esta √© uma otimiza√ß√£o. O React ainda pode
        precisar chamar seu componente antes de ignorar o resultado, mas isso n√£o deve afetar seu c√≥digo.
      </li>
      <hr>
      <li>
        Atualiza√ß√µes de estado dos lotes do React . Ele atualiza a tela depois que todos os manipuladores de eventos
        foram executados e chamaram suas setfun√ß√µes. Isso evita m√∫ltiplas renderiza√ß√µes durante um √∫nico evento. No caso
        raro de voc√™ precisar for√ßar o React a atualizar a tela mais cedo, por exemplo, para acessar o DOM, voc√™ pode
        usar flushSync.
      </li>
    </ul>
    <hr>
    <h2>Uso</h2>
    <h3>Adicionando um redutor a um componente</h3>
    <p>
      Chame useReducer no n√≠vel superior do seu componente para gerenciar o estado com um redutor.
    </p>
    <div class="exemplos">
      import { useReducer } from 'react'; <br>
      <br>
      function reducer(state, action) {<br>
      // ...<br>
      }<br>
      <br>
      function MyComponent() {<br>
      const [state, dispatch] = useReducer(reducer, { age: 42 });<br>
      // ...
    </div>
    <p>
      <strong>useReducer</strong> retorna um array com exatamente dois itens:
    </p>
    <ol>
      <li>
        O estado atual desta vari√°vel de estado, inicialmente definido para o estado inicial que voc√™ forneceu.
      </li>
      <li>
        A dispatchfun√ß√£o que permite alter√°-lo em resposta √† intera√ß√£o.
      </li>
    </ol>
    <p>
      Para atualizar o que est√° na tela, chame dispatch com um objeto representando o que o usu√°rio fez, chamado action
      :
      <div class="exemplos">
        function handleClick() { <br>
        dispatch({ type: 'incremented_age' }); <br>
        }
      </div>
    </p>
    <p>
      O React passar√° o estado atual e a a√ß√£o para sua fun√ß√£o redutora . Seu redutor calcular√° e retornar√° o pr√≥ximo
      estado. O React armazenar√° o pr√≥ximo estado, renderizar√° seu componente com ele e atualizar√° a UI.
      <div class="exemplos">
        import { useReducer } from 'react'; <br>
        <br>
        function reducer(state, action) {<br>
        if (action.type === 'incremented_age') {<br>
        return {<br>
        age: state.age + 1<br>
        };<br>
        }<br>
        throw Error('Unknown action.');<br>
        }<br>
        <br>
        export default function Counter() {<br>
        const [state, dispatch] = useReducer(reducer, { age: 42 });<br>
        <br>
        return (<br>
        <><br>
          <button onClick={()=> {<br>
            dispatch({ type: 'incremented_age' })<br>
            }}><br>
            Increment age<br>
          </button><br>
          <p>Hello! You are {state.age}.</p><br>
        </><br>
        );<br>
        }
      </div>
    </p>
    <p>
      <strong>useReducer</strong> √© muito semelhante a useState, mas permite mover a l√≥gica de atualiza√ß√£o de estado dos
      manipuladores de eventos para uma √∫nica fun√ß√£o fora do seu componente. Leia mais sobre como escolher entre
      useStatee useReducer.
    </p>
    <hr>
    <h2>Escrevendo a fun√ß√£o redutora</h2>
    <p>
      uma fun√ß√£o redutora √© declarada assim:
      <div class="exemplos">
        function reducer(state, action) { <br>
        // ...<br>
        }
      </div>
    </p>
    <p>
      Depois voc√™ precisa preencher o c√≥digo que ir√° calcular e retornar o pr√≥ximo estado. Por conven√ß√£o, √© comum
      escrev√™-lo como uma switchdeclara√ß√£o. Para cada um caseno switch, calcule e retorne o pr√≥ximo estado.
      <div class="exemplos">
        function reducer(state, action) {<br>
        switch (action.type) {<br>
        case 'incremented_age': {<br>
        return {<br>
        name: state.name,<br>
        age: state.age + 1<br>
        };<br>
        }<br>
        case 'changed_name': {<br>
        return {<br>
        name: action.nextName,<br>
        age: state.age<br>
        };<br>
        }<br>
        }<br>
        throw Error('Unknown action: ' + action.type);<br>
        }
      </div>
    </p>
    <p>
      As a√ß√µes podem ter qualquer formato. Por conven√ß√£o, √© comum passar objetos com uma typepropriedade que identifica
      a a√ß√£o. Deve incluir as informa√ß√µes m√≠nimas necess√°rias que o redutor precisa para calcular o pr√≥ximo estado.
      <div class="exemplos">
        function Form() {<br>
        const [state, dispatch] = useReducer(reducer, { name: 'Taylor', age: 42 });<br>
        <br>
        function handleButtonClick() {<br>
        dispatch({ type: 'incremented_age' });<br>
        }<br>
        <br>
        function handleInputChange(e) {<br>
        dispatch({<br>
        type: 'changed_name',<br>
        nextName: e.target.value<br>
        });<br>
        }<br>
        // ...
      </div>
    </p>
    <p>
      Os nomes dos tipos de a√ß√£o s√£o locais para o seu componente. Cada a√ß√£o descreve uma √∫nica intera√ß√£o, mesmo que
      isso leve a diversas altera√ß√µes nos dados. A forma do estado √© arbitr√°ria, mas geralmente ser√° um objeto ou um
      array. <br>

      Leia extraindo l√≥gica de estado em um redutor para saber mais.
      <div class="lembrete">
        <h2>Armadilha</h2>
        <p>
          O estado √© somente leitura. N√£o modifique nenhum objeto ou array no estado:
        </p>
        <div class="exemplos">
          function reducer(state, action) { <br>
          switch (action.type) {<br>
          case 'incremented_age': {<br>
          // üö© Don't mutate an object in state like this:<br>
          state.age = state.age + 1;<br>
          return state;<br>
          }
        </div>
        Em vez disso, sempre retorna novos objetos do seu rodutor:
        <div class="exemplos">
          function reducer(state, action) { <br>
          switch (action.type) { <br>
          case 'incremented_age': { <br>
          // ‚úÖ Instead, return a new object <br>
          return { <br>
          ...state, <br>
          age: state.age + 1 <br>
          }; <br>
          }
        </div>

      </div>
    </p>
  </section>
</body>

</html>
